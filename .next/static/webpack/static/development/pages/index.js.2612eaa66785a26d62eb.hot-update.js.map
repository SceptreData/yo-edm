{"version":3,"file":"static/webpack/static/development/pages/index.js.2612eaa66785a26d62eb.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import Layout from '../components/Layout.js';\nimport Link from 'next/link';\n\nimport fetch from 'isomorphic-unfetch';\n\nfunction unpackEvent(event) {\n  if (event !== undefined) {\n    console.log(event);\n    const { name, dates, images, url } = event;\n    const { genre, subgenre } = event.classifications[0];\n    const venue = event._embedded.venues[0];\n\n    return { name, dates, images, url, genre, subgenre, venue };\n  }\n  return null;\n}\n\nconst EventItem = ({ src }) => {\n  const event = unpackEvent(src);\n  if (event) {\n    return (\n      <li>\n        <h3>{event.name}</h3>\n        <h4>{event.subgenre}</h4>\n        <time className='event-time'>{event.dates.start.localTime}</time>\n        <time className='event-date'>{event.dates.start.localDate}</time>\n        <a href={event.url}>{event.venue}→</a>\n        <style jsx>{`\n          time {\n            display: block;\n          }\n          a,\n          a:visited {\n            font-size: 2rem;\n            color: gold;\n            text-decoration: none;\n          }\n\n          a:hover {\n            color: goldenrod;\n          }\n        `}</style>\n      </li>\n    );\n  }\n  return null;\n};\n\nconst Index = ({ events }) => {\n  console.log(events);\n  return (\n    <Layout>\n      <h1>Yo'Edmonton</h1>\n      <p>Live Edmonton Hip Hop</p>\n\n      <ul className='upcoming-shows'></ul>\n\n      <section>\n        <ul>\n          {events.map(event => (\n            <EventItem key={event.id} event={event} />\n          ))}\n        </ul>\n      </section>\n      <section>\n        <h2>Featured</h2>\n        <p>\n          Discount Lion Safari is a hip hop duo featuring the eloquent Fawkes\n          and groove magician Burgerfinger. This edmonton born and raised duo\n          has been bringing crowds to their knees since 2017.\n        </p>\n      </section>\n\n      <div className='flex-row'>\n        <section>\n          <h3>Get your Event Listed</h3>\n          <p>\n            Are you hosting an event? Let us know! We want to bring fans and\n            content-creators together, with the goal of helping you grow your\n            brand as painlessly as possible. YoEdmonton is the best way to let\n            the people Edmonton know what’s up. Best of all, listing yourself on\n            Yo Edmonton is completely free!\n          </p>\n          <p>\n            Do you have pictures of an event? We would love to see them. Your\n            photos could be featured here on the site. Every week we feature a\n            different artist or crew, and we would love your photographs to do\n            it.\n          </p>\n        </section>\n        <section>\n          <h3>About Yo'Edmonton</h3>\n          <p>\n            Yo’ Edmonton is the best up and coming Hip Hop and Rap event listing\n            site in Edmonton. Founded in 2019, the owner was fed up trying to\n            figure out where events were happening in Edmonton. At Yo’ Edmonton,\n            we are bringing you the latest up-to-date information about shows\n            happening around the city.\n          </p>\n          <p>\n            Yo Edmonton is a promotional platform where artists and fans can\n            promote their favorite artists, merchandise and venues. Yo Edmonton\n            is built for you to engage with the Edmonton hip hop community.\n          </p>\n        </section>\n      </div>\n      <style jsx>{`\n        @media only screen and (min-width: 720px) {\n          .flex-row {\n            display: flex;\n          }\n        }\n\n        h2 {\n          margin-top: 0;\n        }\n        section {\n          position: relative;\n          padding: 20px;\n          border: 1px solid lightgrey;\n          backdrop-filter: blur(4px);\n          background: rgba(0, 0, 0, 0.5);\n          margin-bottom: 2rem;\n          margin-right: 1rem;\n        }\n        a {\n          font-family: 'Roboto';\n        }\n\n        ul {\n          padding: 0;\n        }\n\n        li {\n          list-style: none;\n          margin: 5px 0;\n        }\n\n        a {\n          text-decoration: none;\n          color: blue;\n        }\n\n        a:hover {\n          opacity: 0.6;\n        }\n      `}</style>\n    </Layout>\n  );\n};\n\nconst API_STR = `https://app.ticketmaster.com/discovery/v2/events?apikey=${process.env.TMASTER_API_KEY}`;\n\nconst HIPHOP_GENRE_ID = 'KnvZfZ7vAv1';\nconst EDMONTON_QUERY = 'locale=*&city=Edmonton&countryCode=CA';\n\nfunction keywordSearch(keyword) {\n  const cleanKeyWord = encodeURIComponent(keyword);\n  return `&keyword=${cleanKeyWord}&${EDMONTON_QUERY}`;\n}\n\nfunction genreSearch(genre) {\n  return `&classificationId=${genre}&${EDMONTON_QUERY}`;\n}\n\nIndex.getInitialProps = async ({ req }) => {\n  const res = await fetch(API_STR + genreSearch(HIPHOP_GENRE_ID));\n  const json = await res.json();\n  return { events: json._embedded.events };\n};\n\nexport default Index;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALA;AAAA;AAAA;AAuBA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAhDA;AAAA;AAAA;AAkGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;;A","sourceRoot":""}